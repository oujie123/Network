###### ARP协议(Address Resolution Protocol）

* 定义：通过目标主机的IP地址查询目标MAC地址，使源主机上同时获得目标主机的IP地址和MAC地址对应关系，然后完成通信。
* 在以太网通信中，源主机要和目标主机通信，必须要知道目标主机的IP地址和MAC地址



同一局域网中：ARP协议请求是广播，在局域网内的所有主机都可以收到，然后对比目标IP地址是否是自己。如果是自己，则缓存源主机IP地址，回复自己的MAC地址，应答是单播（只回应源主机）



不同子网主机间ARP地址解析过程：源主机给路由器发送ARP请求报文，然后路由返回自己的MAC给源主机保存。路由请求到目标路由器，并且缓存目标路由器的MAC地址。最后目标路由器找到目标主机，并且获得目标主机的MAC地址返回



###### RARP协议（Reverse Address Resolution Protocal）逆向ARP地址解析协议

* 定义：ARP是知道目标地址，解析MAC，RARP是知道MAC地址，解析IP



###### 免费ARP存在的目的是：检测网络冲突

* 原理：源IP地址和目标IP地址都设置成自己，源MAC地址设置成自己的MAC，目标MAC设置成FFFF FFFF FFFF。如果没收到回应，则说明IP设置成功，收到回应了，MAC不为FFFF FFFF FFFF则说明IP冲突了。